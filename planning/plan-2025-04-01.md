# Six-week plan

NOTE: THIS PLAN IS SUPERSEDED BY `week1-2025-04-01.md`


## Goals

**Objective**: To demonstrate our ability to post-train a
state-of-the-art LLM with reasoning capability.

**Goal**: A system that returns a set of relevant websites from
nhs.uk/conditions given a description of a set of symptoms exhibited
by a synthetic “patient.”

**Stretch goal**: An LLM using reasoning to identify a condition from
a dialogue with a synthetic patient.

## Plan

At each step of the plan we need:

1. An evaluation dataset;
2. Evaluation metrics;
3. A proposal for the model.

### “Sprint 0”

(Started before project start, may continue into week 1.)

- Replicate s1 evaluation

### Sprint 1

The goal is document retrieval.

#### Tasks

1. Create evaluation dataset
2. Evaluate base model and reasoning model
3. Create first version of "Level 1 model"
4. Evaluate Level 1 model

#### Evaluation dataset

We repeatedly randomly select a condition from the NHS conditions
dataset, then prompt the Example-Generating Model to create a short
description of the symptoms. Our model is prompted to “diagnose” the
condition, producing either a single prediction, several likely
predictions, or a probability distribution over many conditions.

(We need a set large enough to produce an accurate evaluation.)

#### Evaluation metrics

1. `top1` Percentage of conditions correctly “diagnosed.”
2. `top3` Percentage of tests in which the “correct” condition is in
   the top 3.
3. The log likelihood of the “correct” condition under the modeled
   distribution.

#### Approach

1. Vector database and similarity (no LLM!)
2. Vector database to retrieve a small sample of documents, followed
   by
   - i. Base model.
   - ii. Reasoning model
   - iii. Level 1 model

Level 1 model here might be fine-tuned on the entire dataset, or
fine-tuned on the output of the reasoning model.


### Sprint 2

1. Experiments to make our Level 1 model outperform the base model.
2. Work to produce nicer output (eg, links to original material.)

### Sprint 3

Any adjustments based on the output of sprint 2. If model performs
poorly, work on diagnosing issues. If well, proceed to stretch goal.
